package com.soltech.tests;

import java.io.IOException;

import org.apache.log4j.Logger;
import org.testng.Assert;
import org.testng.annotations.Test;

import com.soltech.base.BaseClass;
import com.soltech.pages.JobDetailPage;
import com.soltech.pages.LandingPage;
import com.soltech.pages.OpenPositionsPage;

public class TestRunner extends BaseClass{
	public static final Logger log = Logger.getLogger(TestRunner.class.getName());
	LandingPage landingpage;
	OpenPositionsPage openpositionspage;
	JobDetailPage jobdetailspage;
	 	
	@Test
	public void clickOnCareersOpenPositionsMenu() throws Exception {
		log.info("======================= Starting LandingPageTest =====================");	
		landingpage = new LandingPage(driver);
		Assert.assertEquals(landingpage.isPageTitle(),true);
		openpositionspage  = landingpage.clickOpenPositionsMenu();
		Thread.sleep(5000L);
		log.info("======================= Completed LandingPageTest =====================");
	}
	
	@Test(dependsOnMethods={"clickOnCareersOpenPositionsMenu"})
	public void searchForOpenQAPositions() throws InterruptedException, IOException{
		log.info("======================= Starting OpenPositionsPageTest ================");
		openpositionspage = new OpenPositionsPage(driver);
		Thread.sleep(3000L);
		Assert.assertEquals(openpositionspage.getPageTitle(),true);
		openpositionspage.enterForSearch();
		openpositionspage.clickOnSearch();
		jobdetailspage = openpositionspage.clikOnQAPositionFromSerachResults();
		Thread.sleep(5000L);		
		log.info("======================= Completed OpenPositionsPageTest ===============");
	}
	
	@Test(dependsOnMethods={"searchForOpenQAPositions"})
	public void verifyJobDetailsPage() throws IOException{
		log.info("======================= Starting JobDetailsPageTest ================");
		jobdetailspage = new JobDetailPage(driver);
		Assert.assertEquals(jobdetailspage.verifyPageTitle(), true);
		Assert.assertEquals(jobdetailspage.verifyJobID(), true);
		Assert.assertEquals(jobdetailspage.verifyJobName(), true);
		System.out.println(jobdetailspage.printTitleOfThePosition());
		System.out.println(jobdetailspage.printJobID());
		log.info("======================= Starting JobDetailsPageTest ================");
	}
	
}
